/*HHEADER
       dP                dP       dP                                                 dP         
       88                88       88                                                 88         
       88d888b. .d8888b. 88d888b. 88d888b. .d8888b. .d8888b. .d8888b. .d8888b. .d888b88 .d8888b.
       88'  `88 88'  `88 88'  `88 88'  `88 88ooood8 Y8ooooo. 88'  `"" 88'  `88 88'  `88 88ooood8
       88    88 88.  .88 88.  .88 88.  .88 88.  ...       88 88.  ... 88.  .88 88.  .88 88.  ...
       dP    dP `88888P' 88Y8888' 88Y8888' `88888P' `88888P' `88888P' `88888P' `88888P8 `88888P'


                                                                                                 
                                   i8@@8Li.                t@8000                                
                                 .GitL:::GGGC;             G8ifGt80LtL11,.                       
                                  C,Li;i8i;Ci:ti  i11i:;i::i00ii;;ifffi;;f@8                     
                                  ,L;0L88iCf;L01f.   ,;  ifG0101f0t:;:;;;1GC                     
                                    t@80CL0LfC,    ,1i :;ii CGti1;G8fi::fCiL:                    
                                      L0C11tGf;      ,1;   L .;:.         Lii                    
                                      ,i0fLGt;f1.    t:                    1.                    
                                    ;0C8Li;t88L;:,,i  :t,          :1 .,  .t                     
                                  18i;i;1fC8tL,      .             ,  1. :L                      
                                1C:;G8Gf;f;             ::::      ;LG0t. iLG0CCi                 
            ..t0fC0tGt,       iC:ifCGCt:             ;,    ;L  i G1G0C11CLCL1C88CGti             
          ,Li;G01f01C::GC.   C8G1;:;:;              t           ii8@@@@@C  ;G81iGfitCtt1tf:      
        .CiGtL,      :0:;8: Gi:i08@8.           ..                .ifft,       iL:.       .1     
       .0CLfi          Ct;;08Cffti1.          .,                                f.  i   it:      
       t1i:L            0GLf:::;;;i          ;.                                 i  :.  ;   ::    
       0@@@;            ,iGt:::;:1          f                                    ;; ,i  i1ti     
       C@@@.             18888@@8C         .f     :t11:                               t. i       
       .8@0               G;:::;C8f      :;.L   ,i   , f                                         
                          ff:C8L;;;: t81,:8::f..f    @1 1                                        
                          G0i:::i8L10@8,,ff,f0L0. t@,.f.1                                        
                           C1:18L:i8;88,:Lf8t:f:   : Lt:.                                        
                           ,80C:::8t:L8f:G@G,:L   ,@8  i   ;i.                                   
                            ,8:::t8i::C8C1@8CfG   f@G i ;;    ;1                                 
                              tC:t8f::,;C8C1L0f     .G1f..1 G@,1                                 
                                i0t01::::::f01,f1,iG0;1  Gf    1                                 
                                   :tC00Lt:.      ;G,       8L1.           
                          .LG:;                    f.  f@@1  t.            
                      ,;.0ttC::::                   L   :t: ,:             
                 i;ftttttttt8:::;                    .L.  :1.              
             .:Gtttttfttttttttf;::;                                        
         i8tttttft::Cttttttttt;::::                                        
         tttC,.;;:::::fttttttttt::::;                                      
       ,::1Lt8;:::::::tttttttttt;:::f                                      
     8:0tttttttG;::::::;tttttttttt:::;                                     
   CtfttttttttttG::::::::tttttttttt:::i                                    
   ttttttttttttttt:::::::;tttttttttC:::                                    
    Gtttttttttttttt:::::::Gtttttttttf::t                                   
    .ttttttttttttttt:L.Cii;tttttttttL;f1                                   
     Lttttttttttttttfift,8ttttttttff            
      Gttttttttttttt0fttttttttt,                
       tttttttt1GGttCtLtG8G                     
        .1ft.i,.  t18i           GGGf;;;:::::;::i;:;C 
                t          .ifi:::;:;1fft11if;L11LLf1itC8fi 
                   ;  C8LttttCCLttttttttG1ft1f       
                   :         t                     
                  ;         ;                 Project  >      verdugo
                 L        t                   Version  >      0.0.1
               C       t                      Author   >      llucbrell/Lucas_C
                 8    C                       License  >      MIT
                 ;Ct                          Date     >      2016-08-30

       Workflow build with grunt and nodejs for a better build libraries.
 HHEADER*/


 /*                     __
               _ww   _a+"D
         y#,  _r^ # _*^  y`
        q0 0 a"   W*`    F   ____
     ;  #^ Mw`  __`. .  4-~~^^`
    _  _P   ` /'^           `www=.   ┌─┐┬  ┌─┐┌─┐┌─┐
  ,    +F    `                q      │  │  ├─┤└─┐└─┐
  K ]                         ^K`    └─┘┴─┘┴ ┴└─┘└─┘
, #_                . ___ r    ],    
_*.^            '.__dP^^~#,  ,_ *,    
^b    / _         ``     _F   ]  ]_  
 '___  '               ~~^    ]   [
 :` ]b_    ~k_               ,`  yl   * NAME: Verdugo
   #P        `*a__       __a~   z~`   * in: index.js   
   #L     _      ^------~^`   ,/       _______________________
    ~-vww*"v_               _/`                                 
            ^"q_         _x"                                    
             __#my..___p/`mma____    
         _awP",`,^"-_"^`._ L L  #     
       _#0w_^_^,^r___...._ t [],"w                          
      e^   ]b_x^_~^` __,  .]Wy7` x`     
       '=w__^9*-*MF`      ^[_.=
           ^"y   qw/"^_____^~9 t
             ]_l  ,'^_`..===  x'
              ">.ak__awwwwWW###r
                ##WWWWWWWWWWWWWW__
               _WWWWWWMM#WWWW_JP^"~-=w_
     .____awwmp_wNw#[w/`     ^#,      ~b___.
      ` ^^^~^"W___            ]Raaaamw~`^``^^~
                ^~"~---~~~~~~`              
*/

/** 
 * 
 * Builds a new 3d environment.
 * @class Verdugo
 *
 *
 */
function Verdugo () {
   
   /**
   * 
   * @property {THREE.Scene} scene - a scene, that will hold all our elements such as objects, cameras and lights. 
   *
   */
   this.scene= new THREE.Scene();
   /** use scene.background to set the background color*/
   this.scene.background = new THREE.Color();

   /**
   * 
   * @property {THREE.Camera} camera - a camera, which defines where we're looking at.
   * @default 45,window.innerWidth/window.innerHeight,0.1,1000 -- [-50,30,-90]
   *
   */
   this.camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 1000 );
   // position and point the camera to the center of the scene
   this.camera.position.x = -50;
   this.camera.position.y = 30;
   this.camera.position.z = -90;
   this.camera.lookAt( this.scene.position );
   
   /**
   * 
   * @property {THREE.Renderer} renderer - a renderer, which renders all the 3d objects.
   * @default setSize-window.innerWidth, window.innerHeight -- shadowMapEnabled-true
   *
   */
   this.renderer = new THREE.WebGLRenderer();
   // set the default values of the renderer
   //this.renderer.setClearColorHex(new THREE.Color(0xEEEEEE, 1.0)); // changed to transparent by default
   this.renderer.setSize( window.innerWidth, window.innerHeight );
   this.renderer.shadowMapEnabled = true;

   
   /**
   * 
   * @property {THREE.Spotlight} spotlight - add spotlight for the shadows
   * @default position[-40,60,-90] -- castShadow
   *
   */ 
   this.spotLight = new THREE.SpotLight( 0xffffff );
   this.spotLight.position.set( -40, 60, -90 );
   this.spotLight.castShadow = true;

   //add spotlight to the scene
   this.scene.add( this.spotLight );
} 

Verdugo.prototype = {
  
    /** 
     * 
     * Attach a web-gl canvas into a user's div.
     * @method renderOn
     * @param {String} divId - the html div id element where the scene will be rendered.
     * 
     */
      renderOn: function ( divId ) { 
            // add the output of the renderer to the html element
              document.getElementById( divId ).appendChild( this.renderer.domElement );
            
      }

    /** 
     * 
     * Execute the renderer. Move all elements from the scene to the canvas.
     * @method go
     *
     * 
     */
    , go: function () {   
              // call the render function
              this.renderer.render( this.scene, this.camera );
            }

    /** 
     * 
     * Draws an array of cubes to the scene using the coordinates of the last cube.
     * @method drawCubesTo
     * @param {Array} coordinates - the x,y,z coordinates of the last cube of the array
     * @param {integer} cubeNumbers - the number of cubes that the array is made of
     * @param {integer} size - the longitude of the side of the cubes
     * @param {hexadecimal} hexColor - the color of the cubes
     * @param {String} axe - The directon of the cube's array x', 'y' or 'z' axe. 
     * 
     */
    , drawCubesTo: function ( coordinates, cubeNumbers, size, hexColor, axe ) {
     // variables and default values
      var _positionx 
        , _positiony 
        , _positionz;
          axe = axe || 'x';

            if ( axe==='x' ) {
               _positionx = coordinates[ 0 ] - ( size*cubeNumbers+size );
               _positiony = coordinates[ 1 ];
               _positionz = coordinates[ 2 ];
            }
          
            if ( axe==='y' ) {
               _positionx = coordinates[ 0 ];
               _positiony = coordinates[ 1 ] - ( size*cubeNumbers+size );
               _positionz = coordinates[ 2 ]; 
            }
          
            if ( axe==='z' ) {
               _positionx = coordinates[ 0 ];
               _positiony = coordinates[ 1 ];
               _positionz = coordinates[ 2 ] - ( size*cubeNumbers +size );
            }
          
          
                for ( var i =0; i<cubeNumbers; i++ ) {
                  // create a cube
                  var _cubeGeometry = new THREE.BoxGeometry( size, size, size );
                  var _cubeMaterial = new THREE.MeshLambertMaterial({ color: hexColor });
                  var _cube = new THREE.Mesh( _cubeGeometry, _cubeMaterial );
                  _cube.castShadow = true;
                  _cube.receiveShadow = true;
    
              //actualize the cube position
              if ( axe==='x' ) _positionx += size;
                  
              //actualize the cube position
              if ( axe==='y' ) _positiony += size;
             
              //actualize the cube position
              if ( axe==='z' )  _positionz += size;
    
                
                
              
              // position the cube
              _cube.position.x = _positionx;
              _cube.position.y = _positiony;
              _cube.position.z = _positionz;
    
              // add the cube to the scene
              this.scene.add( _cube );
                }
      }          

    /** 
     * 
     * Draws an array of cubes to the scene using the coordinates of the first cube.
     * @method drawCubesFrom
     * @param {Array} initialPosition - the x,y,z coordinates of the first cube of the array
     * @param {integer} cubeNumbers - the number of cubes that the array is made of
     * @param {integer} size - the longitude of the side of the cubes
     * @param {hexadecimal} hexColor - the color of the cubes
     * @param {String} axe - The directon of the cube's array x', 'y' or 'z' axe. 
     * 
     */
    , drawCubesFrom: function ( initialPosition, cubeNumbers, size, hexColor, axe ) {
       var _positionx = initialPosition[ 0 ]
         , _positiony = initialPosition[ 1 ]
         , _positionz = initialPosition[ 2 ];
           axe = axe || 'x';
     
            for ( var i =0; i<cubeNumbers; i++ ) {
              // create a cube
              var _cubeGeometry = new THREE.BoxGeometry( size, size, size );
              var _cubeMaterial = new THREE.MeshLambertMaterial({ color: hexColor });
              var _cube = new THREE.Mesh( _cubeGeometry, _cubeMaterial );
              _cube.castShadow = true;
              _cube.receiveShadow = true;
            //  if(!axe){axe='x'}
     
            // position the cube
            _cube.position.x = _positionx;
            _cube.position.y = _positiony;
            _cube.position.z = _positionz;
     
                
                  //actualize the cube position
                  if ( axe==='x' ) _positionx += size;
                
                  //actualize the cube position
                  if ( axe==='y' ) _positiony += size;               
                 
                  //actualize the cube position
                  if ( axe==='z' ) _positionz += size;
                
     
                // add the cube to the scene
                this.scene.add( _cube );
            }
      }

    /** 
     * 
     * Draws a cubed line from the coordinates passed to this function.
     * @method drawLineFrom
     * @param {Array} initialPosition - the x,y,z coordinates where the line start
     * @param {integer} long - the longitude of the line
     * @param {integer} width - the width of the line, the other two axes longitude
     * @param {hexadecimal} hexColor - the color of the cubes
     * @param {String} axe - The directon of the line , x, y or z. The longitude it's applied to this parameter 
     * 
     */
    , drawLineFrom: function ( initialPosition, long, width, hexColor, axe ) {
           var _positionx = initialPosition[ 0 ]
             , _positiony = initialPosition[ 1 ]
             , _positionz = initialPosition[ 2 ]
             , _x
             , _y
             , _z;
               axe = axe || 'x';
         

                  //actualize the cube position
                  if ( axe==='x' ) {
                    _x = long;
                    _y = width;
                    _z = width;
                    _positionx= ( ( _positionx - long )/2 ) + width;
                    }
                    
                  //actualize the cube position
                  if ( axe==='y' ) {
                    _x = width;
                    _y = long;
                    _z = width;
                    _positiony= ( ( _positiony - long )/2 ) +width;

                    } 
                
                  //actualize the cube position
                  if ( axe==='z' ) {
                    _x = width;
                    _y = width;
                    _z = long;
                    _positionz= ( ( _positionz - long )/2 ) +width;

                    }
                  // create a cube
                  var _cubeGeometry = new THREE.BoxGeometry( _x, _y, _z );
                  var _cubeMaterial = new THREE.MeshLambertMaterial({ color: hexColor });
                  var _cube = new THREE.Mesh( _cubeGeometry, _cubeMaterial );
                  _cube.castShadow = true;
                  _cube.receiveShadow = true;
                //  if(!axe){axe='x'}
         
                // position the cube
                _cube.position.x = _positionx;
                _cube.position.y = _positiony;
                _cube.position.z = _positionz;
                    
         
                    // add the cube to the scene
                    this.scene.add( _cube );
                
      }

    /** 
     * 
     * Draws a cubed line to the coordinates passed to this function.
     * @method drawLineTo
     * @param {Array} initialPosition - the x,y,z coordinates where the line start
     * @param {integer} long - the longitude of the line
     * @param {integer} width - the width of the line, the other two axes longitude
     * @param {hexadecimal} hexColor - the color of the cubes
     * @param {String} axe - The directon of the line , x, y or z. The longitude it's applied to this parameter 
     * 
     */
    , drawLineTo: function ( finalPosition, long, width, hexColor, axe ) {
           var _positionx = finalPosition[ 0 ]
             , _positiony = finalPosition[ 1 ]
             , _positionz = finalPosition[ 2 ]
             , _x
             , _y
             , _z;
               axe = axe || 'x';
         

                  //actualize the cube position
                  if ( axe==='x' ) {
                    _x = long;
                    _y = width;
                    _z = width;
                    _positionx= ( ( _positionx + long )/2 ) + width;
                    }
                    
                  //actualize the cube position
                  if ( axe==='y' ) {
                    _x = width;
                    _y = long;
                    _z = width;
                    _positiony= ( ( _positiony + long )/2 ) +width;

                    } 
                
                  //actualize the cube position
                  if ( axe==='z' ) {
                    _x = width;
                    _y = width;
                    _z = long;
                    _positionz= ( ( _positionz + long )/2 ) +width;

                    }
                  // create a cube
                  var _cubeGeometry = new THREE.BoxGeometry( _x, _y, _z );
                  var _cubeMaterial = new THREE.MeshLambertMaterial({ color: hexColor });
                  var _cube = new THREE.Mesh( _cubeGeometry, _cubeMaterial );
                  _cube.castShadow = true;
                  _cube.receiveShadow = true;
                //  if(!axe){axe='x'}
         
                // position the cube
                _cube.position.x = _positionx;
                _cube.position.y = _positiony;
                _cube.position.z = _positionz;
                    
         
                    // add the cube to the scene
                    this.scene.add( _cube );
                
      }

};
  






/*HFOOTER
888               888       888                                                       888     
888               888       888                                                       888      
888               888       888                                                       888       
888-~88e  e88~-_  888-~88e  888-~88e   e88~~8e   d88~  e88~~  e88~~  e88~-_   e88~888  e88~~8e 
888  888 d888   i 888  888b 888  888b d888  88b C888   d888    d888    d888   i d888  888 d888  88b 
888  888 8888   | 888  8888 888  8888 8888__888  Y88b  8888    8888    8888   | 8888  888 8888__888 
888  888 Y888   ' 888  888P 888  888P Y888    ,   888D Y888    Y888    Y888   ' Y888  888 Y888    , 
888  888  "88_-~  888-_88"  888-_88"   "88___/  _88P   "88__/  "88__/  "88_-~   "88_/888  "88___/  
                        
                                                                        copyright llucbrell/Lucas_C
                                                                           hobbescode@gmail.com 
               :088C;                                                  
          ,008000LtCCt.  it;1;tC00G00LfLG0t                            
         :800808000Gt.t0GCCGGG00L; ...:tLCt1tt0G,                      
          i0800LCL880C.,;  fG0t                ,8G0G000GC,             
          ;0080C.    .    f0C                   ,80000GG00;            
           :8080GftC.                .           .; 1GfGGLi            
             ,LG80C.             1G1 .0C; .1CCG1    :8GL0L.            
               .C800Gf:        ,t. 1   G0fL.C  Cf    ;                 
              18@0G80GCf     ::   :0G0 1t  :0G t1   i,                 
               t01     L     ,i         t:      ,L ..11                
            .Gti@.1i ,C1C    ;         ;1       11:GG0f                
         .1C1..L8018C8C0:    f        1G;      :L   ,Lf                
          ,C0t  ;C,CG000    1       C,fi      G     C.                 
      18G1            :C,   1,   ,LGCG01    .Gt  LftL                  
        :1f01                 .f08080G00Gtf0L, fC0080G1                
      tC1;                  :0LLt,.,,,,tL0G.    ;:t8C.                 
     C808Lt10,              @G f800G88881 1G:      ;C0C0C.             
          i0                i0808808088C81;GC       ff:                
        ;01:i1:               f0000GG008000G.        ;ff,              
        :f1. 1i                 .f@0000000,        ii   .              
           iG.                                      .1f.               
          ,1CG88L     :       .                 ,   it,                
                 .tt, tt      i1;;f0L          :,i0L:                  
               .i:    ,;L:                 G:   ,t                     
                        .G0t,           .f0  i;  ;:                    
                 tCGL       i@8G0LLLLC80f,. L                          
              ,LG1:            ..,,,.                                  
              18G000GGL.            .1.                                
             LG;    .;LG           ft                                  
             G8i      ,fGL         1G:                                 
         .1G0G800CCG0G0i             1t;.                              
         .GGG0GGGCGCG0G0,            :Cf;.                             
          f0C        .GL            ;10L                               
         fGG.       if                ;C;                              
         100GG00C;,Ct;:.           .0f,if1                             
        .G0CGG08L000:GL.            :C.                                
        10G  ,1CG00GG:               .Ci       
 HFOOTER*/